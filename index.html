<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>¬øQuieres ser mi San Valent√≠n? üíò</title>
  <meta name="description" content="Una pregunta importante üíò" />

  <style>
    :root{
      --bg1:#0b0b16;
      --bg2:#2a0f2f;
      --hot:#ff4d6d;
      --hot2:#ff8fab;
      --vio:#c77dff;
      --card:#ffffff10;
      --border:#ffffff22;
      --txt:#fff;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--txt);
      overflow:hidden;
      display:grid;
      place-items:center;
      padding:24px;
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
    }

    /* Fondo animado */
    .bg{
      position:fixed; inset:-20%;
      background:
        radial-gradient(900px 700px at 20% 20%, #ff4d6d2e, transparent 60%),
        radial-gradient(900px 700px at 80% 30%, #c77dff2b, transparent 55%),
        radial-gradient(700px 600px at 40% 85%, #ff8fab26, transparent 55%),
        linear-gradient(135deg,var(--bg1),var(--bg2));
      filter: saturate(120%);
      animation: drift 10s ease-in-out infinite alternate;
      z-index:-3;
    }
    @keyframes drift{
      0%{ transform: translate3d(-1%, -1%, 0) scale(1.02); }
      100%{ transform: translate3d(1%, 1%, 0) scale(1.06); }
    }

    /* Brillitos */
    .glow{
      position:fixed; inset:0;
      background:
        radial-gradient(circle at 10% 30%, #ffffff10 0 2px, transparent 3px),
        radial-gradient(circle at 60% 10%, #ffffff12 0 1.5px, transparent 3px),
        radial-gradient(circle at 80% 70%, #ffffff10 0 2px, transparent 3px),
        radial-gradient(circle at 30% 80%, #ffffff12 0 1.5px, transparent 3px);
      opacity:.55;
      animation: twinkle 3.5s ease-in-out infinite;
      z-index:-2;
    }
    @keyframes twinkle{
      0%,100%{ opacity:.35; transform: translateY(0); }
      50%{ opacity:.7; transform: translateY(-6px); }
    }

    /* Corazones flotantes */
    .hearts{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:-1;
      opacity:.9;
    }
    .heart{
      position:absolute;
      font-size:18px;
      filter: drop-shadow(0 10px 18px #ff4d6d35);
      animation: floatUp linear infinite;
      will-change: transform, opacity;
    }
    @keyframes floatUp{
      0%{ transform: translateY(110vh) translateX(0) scale(.9); opacity:0; }
      10%{ opacity:.9; }
      100%{ transform: translateY(-20vh) translateX(40px) scale(1.25); opacity:0; }
    }

    /* Card principal */
    .card{
      width:min(760px, 100%);
      background:var(--card);
      border:1px solid var(--border);
      border-radius:26px;
      padding:28px;
      backdrop-filter: blur(12px);
      box-shadow: 0 22px 70px #00000066;
      position:relative;
      transform: translateZ(0);
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:9px 12px;
      border-radius:999px;
      background:#ffffff12;
      border:1px solid #ffffff22;
      font-size:14px;
      letter-spacing:.2px;
    }

    h1{
      margin:14px 0 10px;
      font-size: clamp(28px, 4vw, 46px);
      line-height:1.08;
    }
    p{
      margin:0 0 18px;
      opacity:.92;
      font-size:16px;
      max-width: 60ch;
    }

    .spark{
      position:absolute; right:18px; top:18px;
      font-size:34px;
      animation: bob 2.8s ease-in-out infinite;
      filter: drop-shadow(0 10px 18px #ff4d6d55);
      user-select:none;
    }
    @keyframes bob{ 0%,100%{ transform:translateY(0) } 50%{ transform:translateY(-8px) } }

    .row{
      margin-top:12px;
      position:relative;
      min-height: 58px;
      display:flex;
      gap:14px;
      flex-wrap:wrap;
      align-items:center;
    }

    button{
      border:0;
      padding:14px 18px;
      border-radius:14px;
      font-weight:800;
      font-size:16px;
      cursor:pointer;
      transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    button:hover{ filter: brightness(1.05); transform: translateY(-1px); }
    button:active{ transform: translateY(0) scale(.99); }

    #yes{
      background: linear-gradient(135deg, var(--hot), var(--hot2));
      color:#1a0610;
      box-shadow: 0 14px 30px #ff4d6d35;
    }
    #no{
      background:#ffffff12;
      color:var(--txt);
      border:1px solid #ffffff33;
      box-shadow: 0 12px 24px #00000025;
      position:relative; /* se vuelve absolute cuando se ‚Äúescape‚Äù */
    }

    .tip{
      margin-top:16px;
      font-size:13px;
      opacity:.78;
    }
    .tip code{
      background:#ffffff14;
      border:1px solid #ffffff22;
      padding:2px 6px;
      border-radius:8px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
    }

    /* Modal */
    #modal{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      background:#00000088;
      z-index:30;
      padding:20px;
    }
    #modal .inner{
      width:min(640px, 92vw);
      background:#0b0b14;
      border:1px solid #ffffff22;
      border-radius:22px;
      padding:22px;
      text-align:center;
      box-shadow: 0 30px 90px #000000aa;
      animation: pop .18s ease-out;
    }
    @keyframes pop{
      from{ transform: translateY(8px) scale(.98); opacity:.6; }
      to{ transform: translateY(0) scale(1); opacity:1; }
    }
    #modal .big{ font-size:54px; margin: 10px 0; }
    #modal h2{ margin: 6px 0 10px; font-size:28px; }
    #modal p{ margin: 0 0 10px; opacity:.92; }
    #close{
      margin-top: 8px;
      background:#ffffff14;
      color:#fff;
      border:1px solid #ffffff2a;
    }

    /* Canvas confeti */
    canvas{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:20;
    }
    /* Hello Kitty fija abajo a la derecha */
.kitty-fixed{
  position: fixed;
  right: 18px;
  bottom: 18px;
  width: 220px;
  max-width: 40vw;
  z-index: 25; /* por encima del fondo, debajo del modal */
  pointer-events: none; /* no interfiere con botones */
  filter: drop-shadow(0 14px 24px rgba(0,0,0,.45));
  animation: kittyBounce 1.1s ease-in-out infinite;
}

/* animaci√≥n extra (adem√°s del GIF) */
@keyframes kittyBounce{
  0%   { transform: translateY(0) rotate(-2deg); }
  50%  { transform: translateY(-6px) rotate(2deg); }
  100% { transform: translateY(0) rotate(-2deg); }
}

/* Mobile: m√°s peque√±a */
@media (max-width: 480px){
  .kitty-fixed{
    width: 160px;
    right: 10px;
    bottom: 10px;
  }
}

  </style>
</head>

<body>
  <div class="bg"></div>
  <div class="glow"></div>
  <div class="hearts" id="hearts"></div>
  <canvas id="confetti"></canvas>

  <main class="card" id="card">
    <div class="badge">üíå <span id="who">Oye, amorrr</span></div>
    <div class="spark">üíò</div>

    <h1>¬øQuieres ser mi San Valent√≠n?</h1>
    <p>Antes de que alguien mas te lo pida!</p>

    <section class="row" id="row">
      <button id="yes">S√≠ üíñ</button>
      <button id="no">No üò∂</button>
    </section>

  </main>

  <div id="modal" role="dialog" aria-modal="true" aria-label="Celebraci√≥n">
    <div class="inner">
      <div class="big">üéâüíûüéâ</div>
      <h2>¬°SAB√çA QUE DIR√çAS QUE S√ç!</h2>
      <p id="finalMsg">Ahora oficialmente eres mi San Valent√≠n üíò</p>
      <button id="close">Cerrar</button>
    </div>
  </div>
    <div class="kitty-fixed">
    <div class="tenor-gif-embed"
        data-postid="6682255795123802665"
        data-share-method="host"
        data-aspect-ratio="1.57895"
        data-width="100%">
        <a href="https://tenor.com/view/hello-kitty-gif-6682255795123802665">Hello Kitty Sticker</a>
    </div>
    </div>

  <script>
    // ===== Personalizaci√≥n por URL =====
    const params = new URLSearchParams(location.search);
    const n = params.get("n");
    const m = params.get("m");
    if (n) document.getElementById("who").textContent = `Oye, ${n}`;
    if (m) document.getElementById("finalMsg").textContent = m;

    // ===== Corazones flotantes =====
    const hearts = document.getElementById("hearts");
    const heartChars = ["üíó","üíñ","üíò","üíù","üíû","üíï"];
    const heartCount = 18;

    function spawnHearts(){
      hearts.innerHTML = "";
      for(let i=0;i<heartCount;i++){
        const el = document.createElement("div");
        el.className = "heart";
        el.textContent = heartChars[(Math.random()*heartChars.length)|0];
        el.style.left = (Math.random()*100).toFixed(2) + "vw";
        el.style.animationDuration = (7 + Math.random()*6).toFixed(2) + "s";
        el.style.animationDelay = (Math.random()*-10).toFixed(2) + "s";
        el.style.fontSize = (14 + Math.random()*18).toFixed(0) + "px";
        hearts.appendChild(el);
      }
    }
    spawnHearts();

    // ===== Bot√≥n NO que se escapa =====
    const noBtn = document.getElementById("no");
    const row = document.getElementById("row");
    let dodges = 0;

    function moveNoButton(){
      const rect = row.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const maxX = Math.max(0, rect.width - btnRect.width);
      const maxY = Math.max(0, rect.height - btnRect.height);

      const x = Math.random() * maxX;
      const y = Math.random() * maxY;

      // cuando empiece a escapar, lo hacemos absolute dentro del row
      noBtn.style.position = "absolute";
      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";

      dodges++;
      if (dodges === 4) noBtn.textContent = "¬øSegura? üò≥";
      if (dodges === 7) noBtn.textContent = "No se vale üôÉ";
      if (dodges >= 10) noBtn.textContent = "Di que s√≠ üòå";
    }

    // Eventos para desktop + mobile
    ["mouseenter","pointerenter","touchstart"].forEach(evt => {
      noBtn.addEventListener(evt, (e) => { e.preventDefault(); moveNoButton(); }, {passive:false});
    });

    // ===== Modal + Confeti =====
    const yesBtn = document.getElementById("yes");
    const modal = document.getElementById("modal");
    const closeBtn = document.getElementById("close");

    yesBtn.addEventListener("click", () => {
      modal.style.display = "grid";
      burstConfetti();
    });

    closeBtn.addEventListener("click", () => modal.style.display = "none");
    modal.addEventListener("click", (e) => { if (e.target === modal) modal.style.display = "none"; });

    // ===== Confeti (canvas) =====
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    let confetti = [];
    let raf = null;
    let dpr = 1;

    function resizeCanvas(){
      dpr = window.devicePixelRatio || 1;
      canvas.width = Math.floor(window.innerWidth * dpr);
      canvas.height = Math.floor(window.innerHeight * dpr);
      canvas.style.width = window.innerWidth + "px";
      canvas.style.height = window.innerHeight + "px";
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
    resizeCanvas();
    window.addEventListener("resize", () => {
      resizeCanvas();
      spawnHearts();
    });

    function burstConfetti(){
      const cx = window.innerWidth / 2;
      const cy = window.innerHeight / 2;
      const count = 200;

      confetti = [];
      for(let i=0;i<count;i++){
        const hue = (Math.random()*360)|0;
        confetti.push({
          x: cx,
          y: cy,
          vx: (Math.random()-0.5) * 12,
          vy: (Math.random()-0.9) * 14,
          g: 0.28 + Math.random()*0.08,
          w: 4 + Math.random()*6,
          h: 3 + Math.random()*5,
          r: Math.random()*Math.PI*2,
          vr:(Math.random()-0.5)*0.25,
          a: 1,
          life: 130 + (Math.random()*40)|0,
          hue
        });
      }

      cancelAnimationFrame(raf);
      tick();
    }

    function tick(){
      ctx.clearRect(0,0,window.innerWidth,window.innerHeight);

      for(const p of confetti){
        p.x += p.vx;
        p.y += p.vy;
        p.vy += p.g;
        p.r += p.vr;
        p.life -= 1;

        // fade out
        p.a = Math.max(0, Math.min(1, p.life / 140));

        ctx.save();
        ctx.globalAlpha = p.a;
        ctx.translate(p.x, p.y);
        ctx.rotate(p.r);
        ctx.fillStyle = `hsl(${p.hue} 90% 70%)`;
        ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
        ctx.restore();
      }

      confetti = confetti.filter(p => p.life > 0 && p.y < window.innerHeight + 50);
      if(confetti.length){
        raf = requestAnimationFrame(tick);
      } else {
        ctx.clearRect(0,0,window.innerWidth,window.innerHeight);
      }
    }
  </script>
<script type="text/javascript" async src="https://tenor.com/embed.js"></script>
</body>
</html>
